<!DOCTYPE html>

<html lang="en"><head>
<meta charset="utf-8"/><meta content="width=device-width,initial-scale=1" name="viewport"/>
<title>Ferrari Yellow ‚Äî Alpaca F1 Jackets</title><link href="../styles.css" rel="stylesheet"/></head>
<body>
<header class="site-header"><div class="container header-inner">
<div class="brand"><span class="brand-logo">üèÅ</span><a class="brand-name" href="../index.html#/">Alpaca F1 Jackets</a></div>
<nav class="nav"><a href="../index.html#/">Shop</a><a href="../reviews.html">Reviews</a><a href="../policies.html">Delivery &amp; Terms</a></nav>
</div></header>
<main aria-live="polite" class="container" id="app">
<div class="breadcrumbs"><a href="../index.html#/">Shop</a> / <span>Ferrari Yellow</span></div>
<div class="product">
<div class="gallery">
<div class="main-image" id="main"></div>
<div class="thumbs" id="thumbs"></div>
</div>
<div class="product-panel">
<div class="product-title">Ferrari Yellow</div>
<div class="price">‚Çπ3,699</div>
<div class="product-desc">Premium F1-inspired jacket. WhatsApp checkout only.</div>
<div aria-label="Choose size" class="chips" id="sizeChips" role="group"></div>
<div aria-label="Size chart" class="sizechart" role="region">
<h3>Size chart (cm)</h3>
<table aria-label="Jacket size chart in centimeters">
<thead><tr><th>Size</th><th>Length</th><th>Chest</th><th>Sleeve</th><th>Shoulder</th></tr></thead>
<tbody><tr><td>3XL</td><td>75</td><td>65</td><td>62</td><td>59</td></tr></tbody>
</table>
<figure class="size-guide"><img alt="How to measure: length, chest, sleeve, shoulder" src="../assets/size-guide-chest.png"/><figcaption><strong>How to measure</strong><ul class="measure-list"><li>Length: top of shoulder to bottom hem.</li><li>Chest: measure flat from armpit seam to armpit seam (pit‚Äëto‚Äëpit);</li><li>Sleeve: shoulder seam to cuff.</li><li>Shoulder: seam to seam across the back.</li></ul></figcaption></figure></div>
<div class="qty"><span>Qty</span><input id="qty" min="1" type="number" value="1"/></div>
<div class="meta"><span class="badge">WhatsApp checkout</span><span class="badge">No online payment</span></div>
<div class="alert">Order opens WhatsApp with a pre-filled message.</div>
<a class="btn btn-primary" href="#" id="buy">Buy on WhatsApp</a>
<a class="btn btn-ghost" href="../index.html#/">‚Üê Back to shop</a>
</div>
</div>
</main>
<footer class="site-footer"><div class="container"><p>¬© <span id="year"></span> Alpaca F1 Jackets ‚Ä¢ Built for WhatsApp checkout ‚Ä¢ No online payments</p></div></footer>
<script>

const WHATSAPP_NUMBER='918086009430';
const product={"id": "jacket-3", "name": "Ferrari Yellow", "sizes": ["3XL"], "price": 3699, "currency": "INR", "images": ["assets/jacket-3-1.jpeg", "assets/jacket-3-2.jpeg"], "videoUrl": "https://drive.google.com/file/d/1uSzADf4KqpsCqGnPV1rCWACfExVWrVML/preview"};

const qtyEl=document.getElementById('qty');
const buyBtn=document.getElementById('buy');
const main=document.getElementById('main');
const thumbs=document.getElementById('thumbs');
const sizeChips=document.getElementById('sizeChips');

let chosenSize=null;

function setMainImage(src){
  main.innerHTML='';
  const img=document.createElement('img');
  img.alt=product.name;
  img.src=src;
  main.appendChild(img);
}
function setMainVideo(src){
  main.innerHTML='';
  const v=document.createElement('video');
  v.controls=true; v.playsInline=true; v.muted=false;
  v.style.width='100%'; v.style.height='100%';
  v.src=src;
  main.appendChild(v);
}
function setMainDrive(src){
  main.innerHTML='';
  const iframe=document.createElement('iframe');
  iframe.allow='autoplay; fullscreen';
  iframe.src=src;
  iframe.style.width='100%'; iframe.style.height='100%'; iframe.style.border='0';
  main.appendChild(iframe);
}

(product.sizes||[]).forEach((s,i)=>{
  const b=document.createElement('button');
  b.className='chip';
  b.textContent=s;
  b.setAttribute('aria-pressed','false');
  b.addEventListener('click',()=>{ chosenSize=s; document.querySelectorAll('.chip[aria-pressed]').forEach(x=>x.setAttribute('aria-pressed','false')); b.setAttribute('aria-pressed','true'); });
  sizeChips.appendChild(b);
  if(i===0) { chosenSize=s; b.setAttribute('aria-pressed','true'); }
});

const imgs=product.images||[];
// Helper to create a thumb
function addImageThumb(src, selectOnInit=false){
  const t=document.createElement('div');
  t.className='thumb';
  const im=document.createElement('img'); im.src='../'+src; im.alt=product.name;
  t.appendChild(im);
  t.addEventListener('click',()=>{ document.querySelectorAll('.thumb').forEach(x=>x.classList.remove('active')); t.classList.add('active'); setMainImage('../'+src); });
  thumbs.appendChild(t);
  if(selectOnInit) { t.classList.add('active'); setMainImage('../'+src); }
  return t;
}

// Add the image thumbs first
const firstThumb = imgs[0] ? addImageThumb(imgs[0], true) : null;
if(imgs[1]) addImageThumb(imgs[1]);

// Video thumb (if available)
if(product.videoUrl){
  const vt=document.createElement('div');
  vt.className='thumb';
  vt.setAttribute('data-type','video');
  // Use first image as poster if available
  if(imgs[0]){
    const poster=document.createElement('img');
    poster.src='../'+imgs[0];
    poster.alt=product.name+' video';
    vt.appendChild(poster);
  }
  const badge=document.createElement('span');
  badge.className='thumb-badge';
  badge.textContent='Close‚Äëup';
  const play=document.createElement('span');
  play.className='thumb-play';
  play.textContent='‚ñ∂';
  vt.appendChild(badge); vt.appendChild(play);
  vt.addEventListener('click',()=>{ 
    document.querySelectorAll('.thumb').forEach(x=>x.classList.remove('active')); 
    vt.classList.add('active'); 
    if(/drive\.google\.com/.test(product.videoUrl)) setMainDrive(product.videoUrl);
    else setMainVideo(product.videoUrl);
  });
  // On mobile, place video first to be obvious
  const isMobile = window.matchMedia('(max-width: 620px)').matches;
  if(isMobile && thumbs.firstChild) thumbs.insertBefore(vt, thumbs.firstChild);
  else thumbs.appendChild(vt);

  // Add a CTA near price/title
  const panel=document.querySelector('.product-panel');
  if(panel){
    const cta=document.createElement('button');
    cta.id='watchVideo';
    cta.className='watch-video-cta';
    cta.type='button';
    cta.textContent='‚ñ∂ Product video';
    cta.addEventListener('click',()=>{ 
      if(/drive\.google\.com/.test(product.videoUrl)) setMainDrive(product.videoUrl);
      else setMainVideo(product.videoUrl);
      document.querySelectorAll('.thumb').forEach(x=>x.classList.remove('active'));
      vt.classList.add('active');
      vt.scrollIntoView({block:'nearest', behavior:'smooth'});
    });
    const desc=panel.querySelector('.product-desc');
    if(desc) desc.insertAdjacentElement('afterend', cta);
    else panel.insertBefore(cta, panel.firstChild);
  }
}

// Default main image if not already set
if(!main.querySelector('img,video,iframe') && imgs[0]) setMainImage('../'+imgs[0]);

buyBtn.addEventListener('click',e=>{ 
  e.preventDefault(); 
  const qty = Math.max(1, parseInt(qtyEl.value||'1',10)); 
  const msg = `Hi! I want to order: ${product.name} | Size: ${chosenSize} | Qty: ${qty}`; 
  const wa = `https://wa.me/${WHATSAPP_NUMBER}?text=`+encodeURIComponent(msg); 
  window.open(wa,'_blank','noopener'); 
});

document.getElementById('year').textContent=(new Date()).getFullYear();

</script>
</body></html>
